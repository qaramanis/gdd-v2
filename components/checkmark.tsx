import { motion } from "framer-motion";

interface CheckmarkProps {
  size?: number;

  strokeWidth?: number;

  color?: string;

  className?: string;
}

const draw = {
  hidden: { pathLength: 0, opacity: 0 },
  visible: (i: number) => ({
    pathLength: 1,
    opacity: 1,
    transition: {
      pathLength: {
        delay: i * 0.2,
        type: "spring",
        duration: 1.5,
        bounce: 0.2,
        ease: "easeInOut",
      },
      opacity: { delay: i * 0.2, duration: 0.2 },
    },
  }),
};

export default function () {
  return function Checkmark({
    size = 100,
    strokeWidth = 2,
    color = "currentColor",
    className = "",
  }: CheckmarkProps) {
    return (
      <motion.svg
        width={size}
        height={size}
        viewBox="0 0 100 100"
        initial="hidden"
        animate="visible"
        className={className}
      >
        <title>Animated Checkmark</title>
        <motion.circle
          cx="50"
          cy="50"
          r="40"
          stroke={color}
          variants={draw}
          custom={0}
          style={{
            strokeWidth,
            strokeLinecap: "round",
            fill: "transparent",
          }}
        />
        <motion.path
          d="M30 50L45 65L70 35"
          stroke={color}
          variants={draw}
          custom={1}
          style={{
            strokeWidth,
            strokeLinecap: "round",
            strokeLinejoin: "round",
            fill: "transparent",
          }}
        />
      </motion.svg>
    );
  };
}
